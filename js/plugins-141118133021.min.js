/**
 * Tabbing
 */
(function(e) {
    e.fn.simpleTabs = function(t) {
        var n = {
            selectedIndex: 0,
            address: !0,
            history: !1
        };
        return e.extend(n, t), !Modernizr.history && Modernizr.hashchange &&
            (window.onhashchange = function() {
                window.location.hash ? e(
                    '.simpletabs > ul a[href$="' + window.location
                    .hash + '"]').click() : e(".simpletabs").each(
                    function() {
                        e(this).find("> ul li").removeClass(
                                "selected").eq(n.selectedIndex)
                            .addClass("selected"), e(this).find(
                                "> div").addClass("hidden").eq(
                                n.selectedIndex).removeClass(
                                "hidden")
                    })
            }), this.each(function() {
                var t = e(this);
                t.find("> ul li:eq(" + n.selectedIndex + ")").addClass(
                        "selected").end().find("> div:not(:eq(" + n
                        .selectedIndex + "))").addClass("hidden").end()
                    .find("> ul li a").click(function(r) {
                        var i = e(this);
                        i.parent("li").addClass("selected").siblings()
                            .removeClass("selected"), t.find(i.attr(
                                "href").replace("#", ".")).removeClass(
                                "hidden").siblings("div").addClass(
                                "hidden"), n.address && e.ccphashman(
                                "set", e(this).attr("href").replace(
                                    /^#/, ""), r)
                    }), window.location.hash && e(
                        '.simpletabs > ul a[href$="' + window.location
                        .hash + '"]').click()
            })
    }
})(jQuery);
/**
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 */
(function(e) {
    e.extend(e.easing, {
        def: "easeOutQuad",
        swing: function(t, n, r, i, s) {
            return e.easing[e.easing.def](t, n, r, i, s)
        },
        easeOutQuad: function(e, t, n, r, i) {
            return -r * (t /= i) * (t - 2) + n
        },
        easeInQuint: function(e, t, n, r, i) {
            return r * (t /= i) * t * t * t * t + n
        },
        easeOutQuint: function(e, t, n, r, i) {
            return r * ((t = t / i - 1) * t * t * t * t + 1) +
                n
        },
        easeInOutQuint: function(e, t, n, r, i) {
            return (t /= i / 2) < 1 ? r / 2 * t * t * t * t * t +
                n : r / 2 * ((t -= 2) * t * t * t * t + 2) + n
        },
        easeOutExpo: function(e, t, n, r, i) {
            return t == i ? n + r : r * (-Math.pow(2, -10 * t /
                i) + 1) + n
        },
        easeInBack: function(e, t, n, r, i, s) {
            return s == undefined && (s = 1.70158), r * (t /= i) *
                t * ((s + 1) * t - s) + n
        },
        easeOutBack: function(e, t, n, r, i, s) {
            return s == undefined && (s = 1.70158), r * ((t = t /
                i - 1) * t * ((s + 1) * t + s) + 1) + n
        },
        easeInOutBack: function(e, t, n, r, i, s) {
            return s == undefined && (s = 1.70158), (t /= i / 2) <
                1 ? r / 2 * t * t * (((s *= 1.525) + 1) * t - s) +
                n : r / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) *
                    t + s) + 2) + n
        }
    })
})(jQuery);
/**
 * ccp.creations_paging - Paging for creations subcategory listing pages.
 */
(function(e) {
    e.fn.creations_paging = function(t) {
        var n = {
            pagesize: 9,
            wrapper_markup: '<div id="wrapper" class="clearfix"></div>',
            pager_markup: '<ul class="paging clearfix"></ul>',
            list_markup: "<ol></ol>",
            container: "#subcat-thumbs",
            paging_arrows_container: "#subcat-listing",
            insert_pager_before: !0,
            insert_pager_after: !0
        };
        return this.each(function() {
            function w(t, n, r, i) {
                if (n) {
                    var s = 300,
                        o = "easeInOutQuint";
                    v = !0, r == "prev" && i == 0 ? c.animate({
                        left: 0
                    }, s, o, function() {
                        c.css("left", f * a * -1),
                            v = !1
                    }) : r == "next" && i == f - 1 ? c.animate({
                        left: (f + 1) * a * -1
                    }, s, o, function() {
                        c.css("left", a * -1), v = !
                            1
                    }) : c.animate({
                        left: (t + 1) * a * -1
                    }, s, o, function() {
                        v = !1
                    })
                } else c.css("left", (t + 1) * a * -1);
                t == 0 ? (p = t + 1, d = f - 1) : t == f -
                    1 ? (p = 0, d = t - 1) : (p = t + 1, d =
                        t - 1), e(".paging").each(function() {
                        e(this).find("li").removeClass(
                            "selected").eq(t).addClass(
                            "selected")
                    }), S()
            }

            function E(e) {
                var t = e.split("&");
                for (var n = 0; n < t.length; n++) {
                    var r = t[n].split("=");
                    if (r[0] == "page" && !isNaN(parseInt(r[
                        1]))) return parseInt(r[1])
                }
                return s
            }

            function S() {
                e("#paging-arrows").remove(), e(
                    "#arrowsTemplate").tmpl({
                    nextPage: p,
                    prevPage: d
                }).insertAfter(n.container)
            }
            t && e.extend(n, t);
            var r = e(this),
                i = n.pagesize,
                s = 0,
                o = r.children().clone(),
                u = o.length,
                a = r.width(),
                f = Math.ceil(u / i),
                l = f + 2,
                c = e(n.wrapper_markup),
                h = e(n.pager_markup),
                p = 0,
                d = 0,
                v = !1;
            if (u <= i) return;
            s = E(window.location.hash.replace(/^#/, ""));
            for (var m = 0; m < f; m++) {
                var g = o.slice(m * i, (m + 1) * i);
                e(n.list_markup).append(g).appendTo(c), h.append(
                    '<li><a href="#page=' + m +
                    '" class="ir">' + (m + 1) + "</a></li>"
                )
            }
            var y = c.children(":first-child").clone(),
                b = c.children(":last-child").clone();
            y.appendTo(c), b.prependTo(c), c.width(l * a), r.replaceWith(
                    c), n.insert_pager_before && e(n.container)
                .before(h.clone().addClass("before")), n.insert_pager_after &&
                e(n.container).after(h), w(s), S(), e(n.paging_arrows_container)
                .on("click", ".paging a, #paging-arrows a",
                    function(t) {
                        if (v) return !1;
                        var n = e(this),
                            r = n[0].href;
                        newpage = parseInt(r.substr(r.indexOf(
                                "#")).replace(/^#page=/, "")),
                            e.ccphashman("set", "page=" +
                                newpage, t), n.hasClass("prev") ?
                            w(newpage, !0, "prev", s) : n.hasClass(
                                "next") ? w(newpage, !0, "next",
                                s) : w(newpage, !0), s =
                            newpage
                    }), !Modernizr.history && Modernizr.hashchange &&
                (window.onhashchange = function() {
                    window.location.hash ? (s = E(window.location
                        .hash.replace(/^#/, "")), w(
                        s, !0)) : (s = 0, w(s, !0))
                })
        })
    }
})(jQuery);
/*!
 * Bootstrap v3.1.1 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * This is only scrollspy
 */
+ function(e) {
    function t(n, r) {
        var i, s = e.proxy(this.process, this);
        this.$element = e(n).is("body") ? e(window) : e(n), this.$body = e(
                "body"), this.$scrollElement = this.$element.on(
                "scroll.bs.scroll-spy.data-api", s), this.options = e.extend({},
                t.DEFAULTS, r), this.selector = (this.options.target || (i =
                    e(n).attr("href")) && i.replace(/.*(?=#[^\s]+$)/, "") ||
                "") + " .nav li > a", this.offsets = e([]), this.targets =
            e([]), this.activeTarget = null, this.refresh(), this.process()
    }
    "use strict", t.DEFAULTS = {
        offset: 10
    }, t.prototype.refresh = function() {
        var t = this.$element[0] == window ? "offset" : "position";
        this.offsets = e([]), this.targets = e([]);
        var n = this,
            r = this.$body.find(this.selector).map(function() {
                var r = e(this),
                    i = r.data("target") || r.attr("href"),
                    s = /^#./.test(i) && e(i);
                return s && s.length && s.is(":visible") && [[s[t]().top +
                    (!e.isWindow(n.$scrollElement.get(0)) && n.$scrollElement
                        .scrollTop()), i]] || null
            }).sort(function(e, t) {
                return e[0] - t[0]
            }).each(function() {
                n.offsets.push(this[0]), n.targets.push(this[1])
            })
    }, t.prototype.process = function() {
        var e = this.$scrollElement.scrollTop() + this.options.offset,
            t = this.$scrollElement[0].scrollHeight || this.$body[0].scrollHeight,
            n = t - this.$scrollElement.height(),
            r = this.offsets,
            i = this.targets,
            s = this.activeTarget,
            o;
        if (e >= n) return s != (o = i.last()[0]) && this.activate(o);
        if (s && e <= r[0]) return s != (o = i[0]) && this.activate(o);
        for (o = r.length; o--;) s != i[o] && e >= r[o] && (!r[o + 1] || e <=
            r[o + 1]) && this.activate(i[o])
    }, t.prototype.activate = function(t) {
        this.activeTarget = t, e(this.selector).parentsUntil(this.options.target,
            ".active").removeClass("active");
        var n = this.selector + '[data-target="' + t + '"],' + this.selector +
            '[href="' + t + '"]',
            r = e(n).parents("li").addClass("active");
        r.parent(".dropdown-menu").length && (r = r.closest("li.dropdown").addClass(
            "active")), r.trigger("activate.bs.scrollspy")
    };
    var n = e.fn.scrollspy;
    e.fn.scrollspy = function(n) {
        return this.each(function() {
            var r = e(this),
                i = r.data("bs.scrollspy"),
                s = typeof n == "object" && n;
            i || r.data("bs.scrollspy", i = new t(this, s)), typeof n ==
                "string" && i[n]()
        })
    }, e.fn.scrollspy.Constructor = t, e.fn.scrollspy.noConflict = function() {
        return e.fn.scrollspy = n, this
    }, e(window).on("load", function() {
        e('[data-spy="scroll"]').each(function() {
            var t = e(this);
            t.scrollspy(t.data())
        })
    })
}(jQuery);
/**
 * Placeholder label
 * https://github.com/AbleTech/jquery.placeholder-label
 *
 * Copyright (c) 2010 Able Technology Consulting Limited
 * http://www.abletech.co.nz/
 */
(function(e) {
    e.placeholderLabel = {
        placeholder_class: null,
        add_placeholder: function() {
            e(this).val() == e(this).attr("placeholder") && e(this)
                .val("").removeClass(e.placeholderLabel.placeholder_class)
        },
        remove_placeholder: function() {
            e(this).val() == "" && e(this).val(e(this).attr(
                "placeholder")).addClass(e.placeholderLabel.placeholder_class)
        },
        disable_placeholder_fields: function() {
            return e(this).find("input[placeholder]").each(function() {
                e(this).val() == e(this).attr("placeholder") &&
                    e(this).val("")
            }), !0
        }
    }, e.fn.placeholderLabel = function(t) {
        var n = document.createElement("input");
        if (n.placeholder != undefined) return this;
        var r = {
            placeholder_class: "placeholder"
        };
        return t && e.extend(r, t), e.placeholderLabel.placeholder_class =
            r.placeholder_class, this.each(function() {
                var t = e(this);
                t.focus(e.placeholderLabel.add_placeholder), t.blur(
                        e.placeholderLabel.remove_placeholder), t.triggerHandler(
                        "focus"), t.triggerHandler("blur"), e(this.form)
                    .submit(e.placeholderLabel.disable_placeholder_fields)
            }), this
    }
})(jQuery);
/* 
 * jQuery Tools v1.2.5 - The missing UI library for the Web
 *
 * overlay/overlay.js
 * toolbox/toolbox.expose.js
 *
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 *
 * http://flowplayer.org/tools/
 */
(function(a) {
    a.tools = a.tools || {
        version: "v1.2.5"
    }, a.tools.overlay = {
        addEffect: function(a, b, d) {
            c[a] = [b, d]
        },
        conf: {
            close: null,
            closeOnClick: !0,
            closeOnEsc: !0,
            closeSpeed: "fast",
            effect: "default",
            fixed: !a.browser.msie || a.browser.version > 6,
            left: "center",
            load: !1,
            mask: null,
            oneInstance: !0,
            speed: "normal",
            target: null,
            top: "10%"
        }
    };
    var b = [],
        c = {};
    a.tools.overlay.addEffect("default", function(b, c) {
        var d = this.getConf(),
            e = a(window);
        d.fixed || (b.top += e.scrollTop(), b.left += e.scrollLeft()),
            b.position = d.fixed ? "fixed" : "absolute", this.getOverlay()
            .css(b).fadeIn(d.speed, c)
    }, function(a) {
        this.getOverlay().fadeOut(this.getConf().closeSpeed, a)
    });

    function d(d, e) {
        var f = this,
            g = d.add(f),
            h = a(window),
            i, j, k, l = a.tools.expose && (e.mask || e.expose),
            m = Math.random().toString().slice(10);
        l && (typeof l == "string" && (l = {
            color: l
        }), l.closeOnClick = l.closeOnEsc = !1);
        var n = e.target || d.attr("rel");
        j = n ? a(n) : null || d;
        if (!j.length) throw "Could not find Overlay: " + n;
        d && d.index(j) == -1 && d.click(function(a) {
                f.load(a);
                return a.preventDefault()
            }), a.extend(f, {
                load: function(d) {
                    if (f.isOpened()) return f;
                    var i = c[e.effect];
                    if (!i) throw "Overlay: cannot find effect : \"" +
                        e.effect + "\"";
                    e.oneInstance && a.each(b, function() {
                            this.close(d)
                        }), d = d || a.Event(), d.type =
                        "onBeforeLoad", g.trigger(d);
                    if (d.isDefaultPrevented()) return f;
                    k = !0, l && a(j).expose(l);
                    var n = e.top,
                        o = e.left,
                        p = j.outerWidth(true),
                        q = j.outerHeight(true);
                    typeof n == "string" && (n = n == "center" ?
                            Math.max((h.height() - q) / 2, 0) :
                            parseInt(n, 10) / 100 * h.height()),
                        o == "center" && (o = Math.max((h.width() -
                            p) / 2, 0)), i[0].call(f, {
                            top: n,
                            left: o
                        }, function() {
                            k && (d.type = "onLoad", g.trigger(
                                d))
                        }), l && e.closeOnClick && a.mask.getMask()
                        .one("click", f.close), e.closeOnClick &&
                        a(document).bind("click." + m, function(
                            b) {
                            a(b.target).parents(j).length ||
                                f.close(b)
                        }), e.closeOnEsc && a(document).bind(
                            "keydown." + m, function(a) {
                                a.keyCode == 27 && f.close(a)
                            });
                    return f
                },
                close: function(b) {
                    if (!f.isOpened()) return f;
                    b = b || a.Event(), b.type =
                        "onBeforeClose", g.trigger(b);
                    if (!b.isDefaultPrevented()) {
                        k = !1, c[e.effect][1].call(f, function() {
                                b.type = "onClose", g.trigger(
                                    b)
                            }), a(document).unbind("click." + m)
                            .unbind("keydown." + m), l && a.mask
                            .close();
                        return f
                    }
                },
                getOverlay: function() {
                    return j
                },
                getTrigger: function() {
                    return d
                },
                getClosers: function() {
                    return i
                },
                isOpened: function() {
                    return k
                },
                getConf: function() {
                    return e
                }
            }), a.each(
                "onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(
                    ","), function(b, c) {
                    a.isFunction(e[c]) && a(f).bind(c, e[c]), f[c] =
                        function(b) {
                            b && a(f).bind(c, b);
                            return f
                        }
                }), i = j.find(e.close || ".close"), !i.length && !e.close &&
            (i = a("<a class=\"close\"></a>"), j.prepend(i)), i.click(
                function(a) {
                    f.close(a)
                }), e.load && f.load()
    }
    a.fn.overlay = function(c) {
        var e = this.data("overlay");
        if (e) return e;
        a.isFunction(c) && (c = {
            onBeforeLoad: c
        }), c = a.extend(!0, {}, a.tools.overlay.conf, c), this.each(
            function() {
                e = new d(a(this), c), b.push(e), a(this).data(
                    "overlay", e)
            });
        return c.api ? e : this
    }
})(jQuery);
(function(a) {
    a.tools = a.tools || {
        version: "v1.2.5"
    };
    var b;
    b = a.tools.expose = {
        conf: {
            maskId: "exposeMask",
            loadSpeed: "slow",
            closeSpeed: "fast",
            closeOnClick: !0,
            closeOnEsc: !0,
            zIndex: 9998,
            opacity: .8,
            startOpacity: 0,
            color: "#fff",
            onLoad: null,
            onClose: null
        }
    };

    function c() {
        if (a.browser.msie) {
            var b = a(document).height(),
                c = a(window).height();
            return [window.innerWidth || document.documentElement.clientWidth ||
                document.body.clientWidth, b - c < 20 ? c : b]
        }
        return [a(document).width(), a(document).height()]
    }

    function d(b) {
        if (b) return b.call(a.mask)
    }
    var e, f, g, h, i;
    a.mask = {
        load: function(j, k) {
            if (g) return this;
            typeof j == "string" && (j = {
                color: j
            }), j = j || h, h = j = a.extend(a.extend({}, b.conf),
                j), e = a("#" + j.maskId), e.length || (e = a(
                "<div/>").attr("id", j.maskId), a("body").append(
                e));
            var l = c();
            e.css({
                position: "absolute",
                top: 0,
                left: 0,
                width: l[0],
                height: l[1],
                display: "none",
                opacity: j.startOpacity,
                zIndex: j.zIndex
            }), j.color && e.css("backgroundColor", j.color);
            if (d(j.onBeforeLoad) === !1) return this;
            j.closeOnEsc && a(document).bind("keydown.mask",
                function(b) {
                    b.keyCode == 27 && a.mask.close(b)
                }), j.closeOnClick && e.bind("click.mask",
                function(b) {
                    a.mask.close(b)
                }), a(window).bind("resize.mask", function() {
                a.mask.fit()
            }), k && k.length && (i = k.eq(0).css("zIndex"), a.each(
                k, function() {
                    var b = a(this);
                    /relative|absolute|fixed/i.test(b.css(
                        "position")) || b.css(
                        "position", "relative")
                }), f = k.css({
                zIndex: Math.max(j.zIndex + 1, i ==
                    "auto" ? 0 : i)
            })), e.css({
                display: "block"
            }).fadeTo(j.loadSpeed, j.opacity, function() {
                a.mask.fit(), d(j.onLoad), g = "full"
            }), g = !0;
            return this
        },
        close: function() {
            if (g) {
                if (d(h.onBeforeClose) === !1) return this;
                e.fadeOut(h.closeSpeed, function() {
                    d(h.onClose), f && f.css({
                        zIndex: i
                    }), g = !1
                }), a(document).unbind("keydown.mask"), e.unbind(
                    "click.mask"), a(window).unbind(
                    "resize.mask")
            }
            return this
        },
        fit: function() {
            if (g) {
                var a = c();
                e.css({
                    width: a[0],
                    height: a[1]
                })
            }
        },
        getMask: function() {
            return e
        },
        isLoaded: function(a) {
            return a ? g == "full" : g
        },
        getConf: function() {
            return h
        },
        getExposed: function() {
            return f
        }
    }, a.fn.mask = function(b) {
        a.mask.load(b);
        return this
    }, a.fn.expose = function(b) {
        a.mask.load(b, this);
        return this
    }
})(jQuery);
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 *
 * Requires: 1.2.2+
 */
(function(a) {
    function d(b) {
        var c = b || window.event,
            d = [].slice.call(arguments, 1),
            e = 0,
            f = !0,
            g = 0,
            h = 0;
        return b = a.event.fix(c), b.type = "mousewheel", c.wheelDelta &&
            (e = c.wheelDelta / 120), c.detail && (e = -c.detail / 3),
            h = e, c.axis !== undefined && c.axis === c.HORIZONTAL_AXIS &&
            (h = 0, g = -1 * e), c.wheelDeltaY !== undefined && (h = c.wheelDeltaY /
                120), c.wheelDeltaX !== undefined && (g = -1 * c.wheelDeltaX /
                120), d.unshift(b, e, g, h), (a.event.dispatch || a.event
                .handle).apply(this, d)
    }
    var b = ["DOMMouseScroll", "mousewheel"];
    if (a.event.fixHooks)
        for (var c = b.length; c;) a.event.fixHooks[b[--c]] = a.event.mouseHooks;
    a.event.special.mousewheel = {
        setup: function() {
            if (this.addEventListener)
                for (var a = b.length; a;) this.addEventListener(b[--
                    a], d, !1);
            else this.onmousewheel = d
        },
        teardown: function() {
            if (this.removeEventListener)
                for (var a = b.length; a;) this.removeEventListener(
                    b[--a], d, !1);
            else this.onmousewheel = null
        }
    }, a.fn.extend({
        mousewheel: function(a) {
            return a ? this.bind("mousewheel", a) : this.trigger(
                "mousewheel")
        },
        unmousewheel: function(a) {
            return this.unbind("mousewheel", a)
        }
    })
})(jQuery);ï»¿ /* jQuery.tmpl.min.js */
(function(a) {
    var r = a.fn.domManip,
        d = "_tmplitem",
        q = /^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,
        b = {},
        f = {},
        e, p = {
            key: 0,
            data: {}
        },
        h = 0,
        c = 0,
        l = [];

    function g(e, d, g, i) {
        var c = {
            data: i || (d ? d.data : {}),
            _wrap: d ? d._wrap : null,
            tmpl: null,
            parent: d || null,
            nodes: [],
            calls: u,
            nest: w,
            wrap: x,
            html: v,
            update: t
        };
        e && a.extend(c, e, {
            nodes: [],
            parent: d
        });
        if (g) {
            c.tmpl = g;
            c._ctnt = c._ctnt || c.tmpl(a, c);
            c.key = ++h;
            (l.length ? f : b)[h] = c
        }
        return c
    }
    a.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(f, d) {
        a.fn[f] = function(n) {
            var g = [],
                i = a(n),
                k, h, m, l, j = this.length === 1 && this[0].parentNode;
            e = b || {};
            if (j && j.nodeType === 11 && j.childNodes.length ===
                1 && i.length === 1) {
                i[d](this[0]);
                g = this
            } else {
                for (h = 0, m = i.length; h < m; h++) {
                    c = h;
                    k = (h > 0 ? this.clone(true) : this).get();
                    a.fn[d].apply(a(i[h]), k);
                    g = g.concat(k)
                }
                c = 0;
                g = this.pushStack(g, f, i.selector)
            }
            l = e;
            e = null;
            a.tmpl.complete(l);
            return g
        }
    });
    a.fn.extend({
        tmpl: function(d, c, b) {
            return a.tmpl(this[0], d, c, b)
        },
        tmplItem: function() {
            return a.tmplItem(this[0])
        },
        template: function(b) {
            return a.template(b, this[0])
        },
        domManip: function(d, l, j) {
            if (d[0] && d[0].nodeType) {
                var f = a.makeArray(arguments),
                    g = d.length,
                    i = 0,
                    h;
                while (i < g && !(h = a.data(d[i++], "tmplItem")))
                ;
                if (g > 1) f[0] = [a.makeArray(d)];
                if (h && c) f[2] = function(b) {
                    a.tmpl.afterManip(this, b, j)
                };
                r.apply(this, f)
            } else r.apply(this, arguments);
            c = 0;
            !e && a.tmpl.complete(b);
            return this
        }
    });
    a.extend({
        tmpl: function(d, h, e, c) {
            var j, k = !c;
            if (k) {
                c = p;
                d = a.template[d] || a.template(null, d);
                f = {}
            } else if (!d) {
                d = c.tmpl;
                b[c.key] = c;
                c.nodes = [];
                c.wrapped && n(c, c.wrapped);
                return a(i(c, null, c.tmpl(a, c)))
            }
            if (!d) return [];
            if (typeof h === "function") h = h.call(c || {});
            e && e.wrapped && n(e, e.wrapped);
            j = a.isArray(h) ? a.map(h, function(a) {
                return a ? g(e, c, d, a) : null
            }) : [g(e, c, d, h)];
            return k ? a(i(c, null, j)) : j
        },
        tmplItem: function(b) {
            var c;
            if (b instanceof a) b = b[0];
            while (b && b.nodeType === 1 && !(c = a.data(b,
                "tmplItem")) && (b = b.parentNode));
            return c || p
        },
        template: function(c, b) {
            if (b) {
                if (typeof b === "string") b = o(b);
                else if (b instanceof a) b = b[0] || {};
                if (b.nodeType) b = a.data(b, "tmpl") || a.data(
                    b, "tmpl", o(b.innerHTML));
                return typeof c === "string" ? (a.template[c] =
                    b) : b
            }
            return c ? typeof c !== "string" ? a.template(null,
                c) : a.template[c] || a.template(null, q.test(
                c) ? c : a(c)) : null
        },
        encode: function(a) {
            return ("" + a).split("<").join("&lt;").split(">").join(
                    "&gt;").split('"').join("&#34;").split("'")
                .join("&#39;")
        }
    });
    a.extend(a.tmpl, {
        tag: {
            tmpl: {
                _default: {
                    $2: "null"
                },
                open: "if($notnull_1){_=_.concat($item.nest($1,$2));}"
            },
            wrap: {
                _default: {
                    $2: "null"
                },
                open: "$item.calls(_,$1,$2);_=[];",
                close: "call=$item.calls();_=call._.concat($item.wrap(call,_));"
            },
            each: {
                _default: {
                    $2: "$index, $value"
                },
                open: "if($notnull_1){$.each($1a,function($2){with(this){",
                close: "}});}"
            },
            "if": {
                open: "if(($notnull_1) && $1a){",
                close: "}"
            },
            "else": {
                _default: {
                    $1: "true"
                },
                open: "}else if(($notnull_1) && $1a){"
            },
            html: {
                open: "if($notnull_1){_.push($1a);}"
            },
            "=": {
                _default: {
                    $1: "$data"
                },
                open: "if($notnull_1){_.push($.encode($1a));}"
            },
            "!": {
                open: ""
            }
        },
        complete: function() {
            b = {}
        },
        afterManip: function(f, b, d) {
            var e = b.nodeType === 11 ? a.makeArray(b.childNodes) :
                b.nodeType === 1 ? [b] : [];
            d.call(f, b);
            m(e);
            c++
        }
    });

    function i(e, g, f) {
        var b, c = f ? a.map(f, function(a) {
            return typeof a === "string" ? e.key ? a.replace(
                /(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,
                "$1 " + d + '="' + e.key + '" $2') : a : i(
                a, e, a._ctnt)
        }) : e;
        if (g) return c;
        c = c.join("");
        c.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,
            function(f, c, e, d) {
                b = a(e).get();
                m(b);
                if (c) b = j(c).concat(b);
                if (d) b = b.concat(j(d))
            });
        return b ? b : j(c)
    }

    function j(c) {
        var b = document.createElement("div");
        b.innerHTML = c;
        return a.makeArray(b.childNodes)
    }

    function o(b) {
        return new Function("jQuery", "$item",
            "var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('" +
            a.trim(b).replace(/([\\'])/g, "\\$1").replace(
                /[\r\t\n]/g, " ").replace(/\$\{([^\}]*)\}/g,
                "{{= $1}}").replace(
                /\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
                function(m, l, j, d, b, c, e) {
                    var i = a.tmpl.tag[j],
                        h, f, g;
                    if (!i) throw "Template command not found: " +
                        j;
                    h = i._default || [];
                    if (c && !/\w$/.test(b)) {
                        b += c;
                        c = ""
                    }
                    if (b) {
                        b = k(b);
                        e = e ? "," + k(e) + ")" : c ? ")" : "";
                        f = c ? b.indexOf(".") > -1 ? b + c : "(" +
                            b + ").call($item" + e : b;
                        g = c ? f : "(typeof(" + b +
                            ")==='function'?(" + b +
                            ").call($item):(" + b + "))"
                    } else g = f = h.$1 || "null";
                    d = k(d);
                    return "');" + i[l ? "close" : "open"].split(
                            "$notnull_1").join(b ? "typeof(" + b +
                            ")!=='undefined' && (" + b + ")!=null" :
                            "true").split("$1a").join(g).split("$1")
                        .join(f).split("$2").join(d ? d.replace(
                            /\s*([^\(]+)\s*(\((.*?)\))?/g,
                            function(d, c, b, a) {
                                a = a ? "," + a + ")" : b ? ")" :
                                    "";
                                return a ? "(" + c +
                                    ").call($item" + a : d
                            }) : h.$2 || "") + "_.push('"
                }) + "');}return _;")
    }

    function n(c, b) {
        c._wrap = i(c, true, a.isArray(b) ? b : [q.test(b) ? b : a(b).html()])
            .join("")
    }

    function k(a) {
        return a ? a.replace(/\\'/g, "'").replace(/\\\\/g, "\\") : null
    }

    function s(b) {
        var a = document.createElement("div");
        a.appendChild(b.cloneNode(true));
        return a.innerHTML
    }

    function m(o) {
        var n = "_" + c,
            k, j, l = {},
            e, p, i;
        for (e = 0, p = o.length; e < p; e++) {
            if ((k = o[e]).nodeType !== 1) continue;
            j = k.getElementsByTagName("*");
            for (i = j.length - 1; i >= 0; i--) m(j[i]);
            m(k)
        }

        function m(j) {
            var p, i = j,
                k, e, m;
            if (m = j.getAttribute(d)) {
                while (i.parentNode && (i = i.parentNode).nodeType ===
                    1 && !(p = i.getAttribute(d)));
                if (p !== m) {
                    i = i.parentNode ? i.nodeType === 11 ? 0 : i.getAttribute(
                        d) || 0 : 0;
                    if (!(e = b[m])) {
                        e = f[m];
                        e = g(e, b[i] || f[i], null, true);
                        e.key = ++h;
                        b[h] = e
                    }
                    c && o(m)
                }
                j.removeAttribute(d)
            } else if (c && (e = a.data(j, "tmplItem"))) {
                o(e.key);
                b[e.key] = e;
                i = a.data(j.parentNode, "tmplItem");
                i = i ? i.key : 0
            }
            if (e) {
                k = e;
                while (k && k.key != i) {
                    k.nodes.push(j);
                    k = k.parent
                }
                delete e._ctnt;
                delete e._wrap;
                a.data(j, "tmplItem", e)
            }

            function o(a) {
                a = a + n;
                e = l[a] = l[a] || g(e, b[e.parent.key + n] ||
                    e.parent, null, true)
            }
        }
    }

    function u(a, d, c, b) {
        if (!a) return l.pop();
        l.push({
            _: a,
            tmpl: d,
            item: this,
            data: c,
            options: b
        })
    }

    function w(d, c, b) {
        return a.tmpl(a.template(d), c, b, this)
    }

    function x(b, d) {
        var c = b.options || {};
        c.wrapped = d;
        return a.tmpl(a.template(b.tmpl), b.data, c, b.item)
    }

    function v(d, c) {
        var b = this._wrap;
        return a.map(a(a.isArray(b) ? b.join("") : b).filter(d || "*"),
            function(a) {
                return c ? a.innerText || a.textContent : a.outerHTML ||
                    s(a)
            })
    }

    function t() {
        var b = this.nodes;
        a.tmpl(null, null, null, this).insertBefore(b[0]);
        a(b).remove()
    }
})(jQuery);
/* 
 * Timed
 * Copyright (c) 2011 Jarvis Badgley, Arthur Klepchukov
 * https://github.com/ChiperSoft/Timed
 * Licensed under the BSD license (BSD_LICENSE.txt)
 *
 * @author <a href="mailto:chipersoft@gmail.com">Jarvis Badgley</a>
 * @version 1.3.1
 */
(function(d) {
    function f() {
        var a = {
                when: null,
                callback: null,
                cancel: g,
                start: h
            },
            c = arguments.length;
        a.callback = arguments[c - 1];
        if (typeof a.callback !== "function") throw "Timed.after and Timed.every - Require a callback as the last argument";
        var b = (arguments[0] instanceof Array ? arguments[0].join("") :
            String(arguments[0])) + (c === 3 ? String(arguments[1]) :
            "");
        isNaN(parseInt(b, 10)) && (b = "1" + b);
        b = b.toLowerCase().replace(/[^a-z0-9\.]/g, "").match(
            /(?:(\d+(?:\.\d+)?)(?:days?|d))?(?:(\d+(?:\.\d+)?)(?:hours?|hrs?|h))?(?:(\d+(?:\.\d+)?)(?:minutes?|mins?|m))?(?:(\d+(?:\.\d+)?)(?:seconds?|secs?|s))?(?:(\d+(?:\.\d+)?)(?:milliseconds?|ms))?/
        );
        if (b[0]) a.when = parseFloat(b[1] || 0) * 864E5 + parseFloat(b[
                2] || 0) * 36E5 + parseFloat(b[3] || 0) * 6E4 +
            parseFloat(b[4] || 0) * 1E3 + parseInt(b[5] || 0, 10);
        else if (c === 3 || !(a.when = parseInt(arguments[0], 10)))
            throw "Timed.after and Timed.every - Could not parse delay arguments, check your syntax";
        return a
    }
    var g = function() {
            if (this.id && clearInterval(this.id)) this.id = null;
            return this
        },
        h = function() {
            this.id = this.type == "i" ? setInterval(this.callback, this.when) :
                setTimeout(this.callback, this.when);
            return this
        },
        e = {
            after: function() {
                var a =
                    f.apply(this, arguments);
                a.type = "t";
                return a.start()
            },
            every: function() {
                var a = f.apply(this, arguments);
                a.type = "i";
                return a.start()
            },
            yield: function(a) {
                if (window.postMessage && window.addEventListener) {
                    var c, b = Math.round(Math.random() * 1E6);
                    window.addEventListener("message", c = function(d) {
                        d.data === b && (window.removeEventListener(
                            "message", c), a())
                    });
                    window.postMessage(b, "*")
                } else e.after(0, "ms", a)
            }
        },
        i = d.Timed;
    e.noConflict = function() {
        d.Timed = i;
        return this
    };
    d.Timed = e
})(this);
/**
 * jQuery Masonry v2.0.111015
 * A dynamic layout plugin for jQuery
 * The flip-side of CSS Floats
 * http://masonry.desandro.com
 *
 * Licensed under the MIT license.
 * Copyright 2011 David DeSandro
 */
(function(a, b, c) {
    var d = b.event,
        e;
    d.special.smartresize = {
        setup: function() {
            b(this).bind("resize", d.special.smartresize.handler)
        },
        teardown: function() {
            b(this).unbind("resize", d.special.smartresize.handler)
        },
        handler: function(a, b) {
            var c = this,
                d = arguments;
            a.type = "smartresize", e && clearTimeout(e), e =
                setTimeout(function() {
                    jQuery.event.handle.apply(c, d)
                }, b === "execAsap" ? 0 : 100)
        }
    }, b.fn.smartresize = function(a) {
        return a ? this.bind("smartresize", a) : this.trigger(
            "smartresize", ["execAsap"])
    }, b.Mason = function(a, c) {
        this.element = b(c), this._create(a), this._init()
    };
    var f = ["position", "height"];
    b.Mason.settings = {
        isResizable: !0,
        isAnimated: !1,
        animationOptions: {
            queue: !1,
            duration: 500
        },
        gutterWidth: 0,
        isRTL: !1,
        isFitWidth: !1
    }, b.Mason.prototype = {
        _filterFindBricks: function(a) {
            var b = this.options.itemSelector;
            return b ? a.filter(b).add(a.find(b)) : a
        },
        _getBricks: function(a) {
            var b = this._filterFindBricks(a).css({
                position: "absolute"
            }).addClass("masonry-brick");
            return b
        },
        _create: function(c) {
            this.options = b.extend(!0, {}, b.Mason.settings, c),
                this.styleQueue = [], this.reloadItems();
            var d = this.element[0].style;
            this.originalStyle = {};
            for (var e = 0, g = f.length; e < g; e++) {
                var h = f[e];
                this.originalStyle[h] = d[h] || ""
            }
            this.element.css({
                    position: "relative"
                }), this.horizontalDirection = this.options.isRTL ?
                "right" : "left", this.offset = {};
            var i = b(document.createElement("div"));
            this.element.prepend(i), this.offset.y = Math.round(i.position()
                .top), this.options.isRTL ? (i.css({
                "float": "right",
                display: "inline-block"
            }), this.offset.x = Math.round(this.element.outerWidth() -
                i.position().left)) : this.offset.x = Math.round(
                i.position().left), i.remove();
            var j = this;
            setTimeout(function() {
                j.element.addClass("masonry")
            }, 0), this.options.isResizable && b(a).bind(
                "smartresize.masonry", function() {
                    j.resize()
                })
        },
        _init: function(a) {
            this._getColumns(), this._reLayout(a)
        },
        option: function(a, c) {
            b.isPlainObject(a) && (this.options = b.extend(!0, this
                .options, a))
        },
        layout: function(a, c) {
            var d, e, f, g, h, i;
            for (var j = 0, k = a.length; j < k; j++) {
                d = b(a[j]), e = Math.ceil(d.outerWidth(!0) / this.columnWidth),
                    e = Math.min(e, this.cols);
                if (e === 1) this._placeBrick(d, this.colYs);
                else {
                    f = this.cols + 1 - e, g = [];
                    for (i = 0; i < f; i++) h = this.colYs.slice(i,
                        i + e), g[i] = Math.max.apply(Math, h);
                    this._placeBrick(d, g)
                }
            }
            var l = {};
            l.height = Math.max.apply(Math, this.colYs) - this.offset
                .y;
            if (this.options.isFitWidth) {
                var m = 0,
                    j = this.cols;
                while (--j) {
                    if (this.colYs[j] !== this.offset.y) break;
                    m++
                }
                l.width = (this.cols - m) * this.columnWidth - this
                    .options.gutterWidth
            }
            this.styleQueue.push({
                $el: this.element,
                style: l
            });
            var n = this.isLaidOut ? this.options.isAnimated ?
                "animate" : "css" : "css",
                o = this.options.animationOptions,
                p;
            for (j = 0, k = this.styleQueue.length; j < k; j++) p =
                this.styleQueue[j], p.$el[n](p.style, o);
            this.styleQueue = [], c && c.call(a), this.isLaidOut = !
                0
        },
        _getColumns: function() {
            var a = this.options.isFitWidth ? this.element.parent() :
                this.element,
                b = a.width();
            this.columnWidth = this.options.columnWidth || this.$bricks
                .outerWidth(!0) || b, this.columnWidth += this.options
                .gutterWidth, this.cols = Math.floor((b + this.options
                    .gutterWidth) / this.columnWidth), this.cols =
                Math.max(this.cols, 1)
        },
        _placeBrick: function(a, b) {
            var c = Math.min.apply(Math, b),
                d = 0;
            for (var e = 0, f = b.length; e < f; e++)
                if (b[e] === c) {
                    d = e;
                    break
                }
            var g = {
                top: c
            };
            g[this.horizontalDirection] = this.columnWidth * d +
                this.offset.x, this.styleQueue.push({
                    $el: a,
                    style: g
                });
            var h = c + a.outerHeight(!0),
                i = this.cols + 1 - f;
            for (e = 0; e < i; e++) this.colYs[d + e] = h
        },
        resize: function() {
            var a = this.cols;
            this._getColumns(), this.cols !== a && this._reLayout()
        },
        _reLayout: function(a) {
            var b = this.cols;
            this.colYs = [];
            while (b--) this.colYs.push(this.offset.y);
            this.layout(this.$bricks, a)
        },
        reloadItems: function() {
            this.$bricks = this._getBricks(this.element.children())
        },
        reload: function(a) {
            this.reloadItems(), this._init(a)
        },
        appended: function(a, b, c) {
            if (b) {
                this._filterFindBricks(a).css({
                    top: this.element.height()
                });
                var d = this;
                setTimeout(function() {
                    d._appended(a, c)
                }, 1)
            } else this._appended(a, c)
        },
        _appended: function(a, b) {
            var c = this._getBricks(a);
            this.$bricks = this.$bricks.add(c), this.layout(c, b)
        },
        remove: function(a) {
            this.$bricks = this.$bricks.not(a), a.remove()
        },
        destroy: function() {
            this.$bricks.removeClass("masonry-brick").each(function() {
                this.style.position = "", this.style.top =
                    "", this.style.left = ""
            });
            var c = this.element[0].style;
            for (var d = 0, e = f.length; d < e; d++) {
                var g = f[d];
                c[g] = this.originalStyle[g]
            }
            this.element.unbind(".masonry").removeClass("masonry").removeData(
                "masonry"), b(a).unbind(".masonry")
        }
    }, b.fn.imagesLoaded = function(a) {
        function h() {
            --e <= 0 && this.src !== f && (setTimeout(g), d.unbind(
                "load error", h))
        }

        function g() {
            a.call(b, d)
        }
        var b = this,
            d = b.find("img").add(b.filter("img")),
            e = d.length,
            f =
            "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
        e || g(), d.bind("load error", h).each(function() {
            if (this.complete || this.complete === c) {
                var a = this.src;
                this.src = f, this.src = a
            }
        });
        return b
    };
    var g = function(a) {
        this.console && console.error(a)
    };
    b.fn.masonry = function(a) {
        if (typeof a == "string") {
            var c = Array.prototype.slice.call(arguments, 1);
            this.each(function() {
                var d = b.data(this, "masonry");
                if (!d) g(
                    "cannot call methods on masonry prior to initialization; attempted to call method '" +
                    a + "'");
                else {
                    if (!b.isFunction(d[a]) || a.charAt(0) ===
                        "_") {
                        g("no such method '" + a +
                            "' for masonry instance");
                        return
                    }
                    d[a].apply(d, c)
                }
            })
        } else this.each(function() {
            var c = b.data(this, "masonry");
            c ? (c.option(a || {}), c._init()) : b.data(this,
                "masonry", new b.Mason(a, this))
        });
        return this
    }
})(window, jQuery);
/*! 
 * jquery.event.drag - v 2.0.0
 * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com
 * Open Source MIT License - http://threedubmedia.com/code/license
 */
(function(f) {
    f.fn.drag = function(b, a, d) {
        var e = typeof b == "string" ? b : "",
            k = f.isFunction(b) ? b : f.isFunction(a) ? a : null;
        if (e.indexOf("drag") !== 0) e = "drag" + e;
        d = (b == k ? a : d) || {};
        return k ? this.bind(e, d, k) : this.trigger(e)
    };
    var i = f.event,
        h = i.special,
        c = h.drag = {
            defaults: {
                which: 1,
                distance: 0,
                not: ":input",
                handle: null,
                relative: false,
                drop: true,
                click: false
            },
            datakey: "dragdata",
            livekey: "livedrag",
            add: function(b) {
                var a = f.data(this, c.datakey),
                    d = b.data || {};
                a.related += 1;
                if (!a.live && b.selector) {
                    a.live = true;
                    i.add(this, "draginit." + c.livekey, c.delegate)
                }
                f.each(c.defaults, function(e) {
                    if (d[e] !== undefined) a[e] = d[e]
                })
            },
            remove: function() {
                f.data(this, c.datakey).related -= 1
            },
            setup: function() {
                if (!f.data(this, c.datakey)) {
                    var b = f.extend({
                        related: 0
                    }, c.defaults);
                    f.data(this, c.datakey, b);
                    i.add(this, "mousedown", c.init, b);
                    this.attachEvent && this.attachEvent("ondragstart",
                        c.dontstart)
                }
            },
            teardown: function() {
                if (!f.data(this, c.datakey).related) {
                    f.removeData(this, c.datakey);
                    i.remove(this, "mousedown", c.init);
                    i.remove(this, "draginit", c.delegate);
                    c.textselect(true);
                    this.detachEvent && this.detachEvent("ondragstart",
                        c.dontstart)
                }
            },
            init: function(b) {
                var a = b.data,
                    d;
                if (!(a.which > 0 && b.which != a.which))
                    if (!f(b.target).is(a.not))
                        if (!(a.handle && !f(b.target).closest(a.handle,
                            b.currentTarget).length)) {
                            a.propagates = 1;
                            a.interactions = [c.interaction(this, a)];
                            a.target = b.target;
                            a.pageX = b.pageX;
                            a.pageY = b.pageY;
                            a.dragging = null;
                            d = c.hijack(b, "draginit", a);
                            if (a.propagates) {
                                if ((d = c.flatten(d)) && d.length) {
                                    a.interactions = [];
                                    f.each(d, function() {
                                        a.interactions.push(c.interaction(
                                            this, a))
                                    })
                                }
                                a.propagates = a.interactions.length;
                                a.drop !== false && h.drop && h.drop.handler(
                                    b, a);
                                c.textselect(false);
                                i.add(document, "mousemove mouseup", c.handler,
                                    a);
                                return false
                            }
                        }
            },
            interaction: function(b, a) {
                return {
                    drag: b,
                    callback: new c.callback,
                    droppable: [],
                    offset: f(b)[a.relative ? "position" : "offset"]() || {
                        top: 0,
                        left: 0
                    }
                }
            },
            handler: function(b) {
                var a = b.data;
                switch (b.type) {
                    case !a.dragging && "mousemove":
                        if (Math.pow(b.pageX - a.pageX, 2) + Math.pow(b
                            .pageY - a.pageY, 2) < Math.pow(a.distance,
                            2)) break;
                        b.target = a.target;
                        c.hijack(b, "dragstart", a);
                        if (a.propagates) a.dragging = true;
                    case "mousemove":
                        if (a.dragging) {
                            c.hijack(b, "drag", a);
                            if (a.propagates) {
                                a.drop !== false && h.drop && h.drop.handler(
                                    b, a);
                                break
                            }
                            b.type = "mouseup"
                        }
                    case "mouseup":
                        i.remove(document, "mousemove mouseup", c.handler);
                        if (a.dragging) {
                            a.drop !== false && h.drop && h.drop.handler(
                                b, a);
                            c.hijack(b, "dragend", a)
                        }
                        c.textselect(true);
                        if (a.click === false && a.dragging) {
                            jQuery.event.triggered = true;
                            setTimeout(function() {
                                jQuery.event.triggered = false
                            }, 20);
                            a.dragging = false
                        }
                        break
                }
            },
            delegate: function(b) {
                var a = [],
                    d, e = f.data(this, "events") || {};
                f.each(e.live || [], function(k, j) {
                    if (j.preType.indexOf("drag") === 0)
                        if (d = f(b.target).closest(j.selector,
                            b.currentTarget)[0]) {
                            i.add(d, j.origType + "." + c.livekey,
                                j.origHandler, j.data);
                            f.inArray(d, a) < 0 && a.push(d)
                        }
                });
                if (!a.length) return false;
                return f(a).bind("dragend." + c.livekey, function() {
                    i.remove(this, "." + c.livekey)
                })
            },
            hijack: function(b, a, d, e, k) {
                if (d) {
                    var j = {
                            event: b.originalEvent,
                            type: b.type
                        },
                        n = a.indexOf("drop") ? "drag" : "drop",
                        l, o = e || 0,
                        g, m;
                    e = !isNaN(e) ? e : d.interactions.length;
                    b.type = a;
                    b.originalEvent = null;
                    d.results = [];
                    do
                        if (g = d.interactions[o])
                            if (!(a !== "dragend" && g.cancelled)) {
                                m = c.properties(b, d, g);
                                g.results = [];
                                f(k || g[n] || d.droppable).each(
                                    function(q, p) {
                                        l = (m.target = p) ? i.handle
                                            .call(p, b, m) : null;
                                        if (l === false) {
                                            if (n == "drag") {
                                                g.cancelled = true;
                                                d.propagates -= 1
                                            }
                                            if (a == "drop") g[n][q] =
                                                null
                                        } else if (a == "dropinit")
                                            g.droppable.push(c.element(
                                                l) || p);
                                        if (a == "dragstart") g.proxy =
                                            f(c.element(l) || g.drag)[
                                                0];
                                        g.results.push(l);
                                        delete b.result;
                                        if (a !== "dropinit") return
                                            l
                                    });
                                d.results[o] = c.flatten(g.results);
                                if (a == "dropinit") g.droppable = c.flatten(
                                    g.droppable);
                                a == "dragstart" && !g.cancelled && m.update()
                            }
                    while (++o < e);
                    b.type = j.type;
                    b.originalEvent = j.event;
                    return c.flatten(d.results)
                }
            },
            properties: function(b, a, d) {
                var e = d.callback;
                e.drag = d.drag;
                e.proxy = d.proxy || d.drag;
                e.startX = a.pageX;
                e.startY = a.pageY;
                e.deltaX = b.pageX - a.pageX;
                e.deltaY = b.pageY - a.pageY;
                e.originalX = d.offset.left;
                e.originalY = d.offset.top;
                e.offsetX = b.pageX - (a.pageX - e.originalX);
                e.offsetY = b.pageY - (a.pageY - e.originalY);
                e.drop = c.flatten((d.drop || []).slice());
                e.available = c.flatten((d.droppable || []).slice());
                return e
            },
            element: function(b) {
                if (b && (b.jquery || b.nodeType == 1)) return b
            },
            flatten: function(b) {
                return f.map(b, function(a) {
                    return a && a.jquery ? f.makeArray(a) : a &&
                        a.length ? c.flatten(a) : a
                })
            },
            textselect: function(b) {
                f(document)[b ? "unbind" : "bind"]("selectstart", c.dontstart)
                    .attr("unselectable", b ? "off" : "on").css(
                        "MozUserSelect", b ? "" : "none")
            },
            dontstart: function() {
                return false
            },
            callback: function() {}
        };
    c.callback.prototype = {
        update: function() {
            h.drop && this.available.length && f.each(this.available,
                function(b) {
                    h.drop.locate(this, b)
                })
        }
    };
    h.draginit = h.dragstart = h.dragend = c
})(jQuery);